<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Game Hub - Full Layout</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <nav id="sidebar">
    <div class="logo">
      <h1>ðŸŽ® GameHub</h1>
    </div>
    <ul class="nav-links">
      <li><button class="nav-btn active" data-section="home-section">Home</button></li>
      <li><button class="nav-btn" data-section="games-section">Games</button></li>
      <li><button class="nav-btn" data-section="leaderboard-section">Leaderboard</button></li>
      <li><button class="nav-btn" data-section="profile-section">Profile</button></li>
      <li><button id="logout-btn" style="margin-top: auto;">Logout</button></li>
    </ul>
  </nav>

  <main id="main-content">
    <!-- Home Section -->
    <section id="home-section" class="section active">
      <h2>Welcome to GameHub</h2>
      <button id="google-login-btn">Login with Google</button>
      <p id="login-message"></p>
    </section>

    <!-- Registration Section -->
    <section id="registration-section" class="section" style="display:none;">
      <h2>Complete Your Registration</h2>
      <form id="registration-form">
        <label for="displayName">Display Name (your player name):</label>
        <input type="text" id="displayName" name="displayName" required maxlength="30" placeholder="Enter your display name" />

        <label for="age">Age:</label>
        <input type="number" id="age" name="age" required min="1" max="120" placeholder="Enter your age" />

        <button type="submit">Submit Registration</button>
      </form>
      <p id="registration-error" class="error"></p>
    </section>

    <!-- Games Section -->
    <section id="games-section" class="section" style="display:none;">
      <h2>Choose a Game</h2>
      <div class="game-list">
        <button onclick="goToGame('MeteorRush/meteor-rush.html')">Meteor Rush</button>
        <button onclick="goToGame('AppleAttack/apple.html')">Apple Attack</button>
      </div>
    </section>

    <!-- Leaderboard Section -->
    <section id="leaderboard-section" class="section" style="display:none;">
      <h2>Leaderboard</h2>
      <label for="game-select">Select Game:</label>
      <select id="game-select" onchange="updateLeaderboard()">
        <option value="MeteorRush">Meteor Rush</option>
        <option value="AppleAttack">Apple Attack</option>
      </select>

      <table id="leaderboard-table" aria-live="polite" role="table" tabindex="0">
        <thead>
          <tr>
            <th scope="col">Rank</th>
            <th scope="col">Player</th>
            <th scope="col">Score</th>
          </tr>
        </thead>
        <tbody id="leaderboard-body"></tbody>
      </table>
    </section>

    <!-- Profile Section -->
    <section id="profile-section" class="section" style="display:none;">
      <h2>Your Profile</h2>
      <p><strong>Name:</strong> <span id="profile-name">Anonymous</span></p>
      <p><strong>Email:</strong> <span id="profile-email">Not logged in</span></p>
    </section>
  </main>

  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/10.11.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.11.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.11.0/firebase-database-compat.js"></script>
  <script src="firebase.mjs"></script>

  <script>
    // Simple nav button toggle logic
    const navButtons = document.querySelectorAll('.nav-btn');
    const sections = document.querySelectorAll('.section');

    navButtons.forEach(btn => {
      btn.addEventListener('click', () => {
        navButtons.forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        const target = btn.dataset.section;
        sections.forEach(sec => {
          sec.style.display = (sec.id === target) ? 'block' : 'none';
          sec.classList.toggle('active', sec.id === target);
        });
      });
    });


  </script>

</body>
</html>

